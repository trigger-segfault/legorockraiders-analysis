extern unsigned __int64 __stdcall Int64ShllMod32(unsigned __int64 Value,unsigned long ShiftCount);
extern __int64 __stdcall Int64ShraMod32(__int64 Value,unsigned long ShiftCount);
extern unsigned __int64 __stdcall Int64ShrlMod32(unsigned __int64 Value,unsigned long ShiftCount);
extern void *__cdecl GetFiberData(void );
extern void *__cdecl GetCurrentFiber(void );
extern float __cdecl Maths_InterpolationDelta(float start,float end,float current);
extern float __cdecl Maths_Interpolate(float start,float end,float delta);
extern struct VECTOR3D *__cdecl Maths_Vector2DMake3D(struct VECTOR3D *r,struct VECTOR2D *v);
extern struct VECTOR2D *__cdecl Maths_Vector3DMake2D(struct VECTOR2D *r,struct VECTOR3D *v);
extern float __cdecl Maths_Vector2DModulus(struct VECTOR2D *v);
extern float __cdecl Maths_Vector2DDistance(struct VECTOR2D *a,struct VECTOR2D *b);
extern float __cdecl Maths_Vector2DDotProduct(struct VECTOR2D *a,struct VECTOR2D *b);
extern struct VECTOR2D *__cdecl Maths_Vector2DSubtract(struct VECTOR2D *r,struct VECTOR2D *a,struct VECTOR2D *b);
extern struct VECTOR2D *__cdecl Maths_Vector2DAdd(struct VECTOR2D *r,struct VECTOR2D *a,struct VECTOR2D *b);
extern struct VECTOR2D *__cdecl Maths_Vector2DScale(struct VECTOR2D *r,struct VECTOR2D *a,float f);
extern struct VECTOR2D *__cdecl Maths_Vector2DNormalize(struct VECTOR2D *r);
extern struct VECTOR2D *__cdecl Maths_Vector2DSetLength(struct VECTOR2D *r,struct VECTOR2D *a,float l);
extern struct VECTOR2D *__cdecl Maths_Vector2DRandom(struct VECTOR2D *r);
extern float __cdecl Maths_Vector2DCrossProductZ(struct VECTOR2D *a,struct VECTOR2D *b);
extern float __cdecl Maths_Vector3DModulus(struct VECTOR3D *v);
extern float __cdecl Maths_Vector3DDistance(struct VECTOR3D *a,struct VECTOR3D *b);
extern struct VECTOR3D *__cdecl Maths_Vector3DCrossProduct(struct VECTOR3D *r,struct VECTOR3D *a,struct VECTOR3D *b);
extern struct VECTOR3D *__cdecl Maths_Vector3DAdd(struct VECTOR3D *r,struct VECTOR3D *a,struct VECTOR3D *b);
extern struct VECTOR3D *__cdecl Maths_Vector3DSubtract(struct VECTOR3D *r,struct VECTOR3D *a,struct VECTOR3D *b);
extern float __cdecl Maths_Vector3DDotProduct(struct VECTOR3D *a,struct VECTOR3D *b);
extern struct VECTOR3D *__cdecl Maths_Vector3DScale(struct VECTOR3D *r,struct VECTOR3D *a,float f);
extern struct VECTOR3D *__cdecl Maths_Vector3DNormalize(struct VECTOR3D *r);
extern struct VECTOR3D *__cdecl Maths_Vector3DInterpolate(struct VECTOR3D *result,struct VECTOR3D *start,struct VECTOR3D *end,float delta);
extern int __cdecl Block_Compare(struct Block *a,struct Block *b);
extern int __cdecl Block_Adjacent(struct Block *a,struct Block *b);
extern struct Block *__cdecl Block_FromString(struct Block *b,unsigned char *str);
extern struct Block *__cdecl Block_Rotate(struct Block *b,long dir);
extern struct Block *__cdecl Block_Random(struct Block *b,struct Block *size);
extern void __cdecl Error_SetWarn(void );
extern void __cdecl Error_CheckWarn(int check);
extern struct IDirect3DRM3 *__cdecl lpD3DRM(void);
extern struct IDirect3DRMDevice3 *__cdecl lpDevice(void);
extern struct IDirect3DDevice3 *__cdecl lpIMDevice(void);
extern int __cdecl Main_VideoTexture(void);
extern int __cdecl Main_MIPMapEnabled(void);
extern int __cdecl Main_FullScreen(void);
extern unsigned long __cdecl Main_GetFogMethod(void);
extern void __cdecl Main_SetFogMethod(unsigned long m);
extern void *__cdecl hWnd(void );
extern void *__cdecl hInst(void );
extern int __cdecl appWidth(void );
extern int __cdecl appHeight(void );
extern int __cdecl Main_AppActive(void);
extern long __cdecl Image_GetWidth(struct Image *p);
extern long __cdecl Image_GetHeight(struct Image *p);
extern struct IDirect3DRMFrame3 *__cdecl Debug_Scene(void);
extern struct IDirect3DRMViewport2 *__cdecl Debug_View(void);
extern struct IDirectDraw4 *__cdecl DirectDraw(void);
extern struct IDirectDrawSurface4 *__cdecl DirectDraw_fSurf(void);
extern struct IDirectDrawSurface4 *__cdecl DirectDraw_bSurf(void);
extern int __cdecl DirectDraw_FullScreen(void);
extern int __cdecl DirectDraw_SetupFullScreen(struct DirectDraw_Driver *driver,struct DirectDraw_Device *device,struct DirectDraw_Mode *mode);
extern int __cdecl DirectDraw_SetupWindowed(struct DirectDraw_Device *device,unsigned long xPos,unsigned long yPos,unsigned long width,unsigned long height);
extern struct Container *__cdecl Container_Initialise(unsigned char *gameName);
extern void __cdecl Container_Shutdown(void );
extern void __cdecl Container_SetSharedTextureDirectory(unsigned char *path);
extern void __cdecl Container_EnableSoundTriggers(int on);
extern void __cdecl Container_SetTriggerFrameCallback(void (__cdecl *Callback)(struct Container *,void *),void *data);
extern void __cdecl Container_SetSoundTriggerCallback(void (__cdecl *Callback)(unsigned char *,struct Container *,void *),void *data);
extern struct Container *__cdecl Container_GetRoot(void );
extern struct Container *__cdecl Container_Create(struct Container *parent);
extern void __cdecl Container_Remove(struct Container *dead);
static void __cdecl Container_Remove2(struct Container *dead,int kill);
extern struct Container *__cdecl Container_Load(struct Container *parent,unsigned char *filename,unsigned char *typestr,int looping);
extern int __cdecl Container_GetType(struct Container *cont);
extern int __cdecl Container_AddActivity(struct Container *cont,unsigned char *fname,unsigned char *actname,float transCo,unsigned long trigger,unsigned char *sample,struct AnimClone *animClone,int lws,int looping);
extern int __cdecl Container_IsCurrentActivity(struct Container *cont,unsigned char *actname);
extern int __cdecl Container_SetActivity(struct Container *cont,unsigned char *actname);
extern int __cdecl Container_Light_SetSpotPenumbra(struct Container *spotlight,float angle);
extern int __cdecl Container_Light_SetSpotUmbra(struct Container *spotlight,float angle);
extern int __cdecl Container_Light_SetSpotRange(struct Container *spotlight,float dist);
extern float __cdecl Container_Light_GetSpotRange(struct Container *spotlight);
extern float __cdecl Container_Light_GetConstantAttenuation(struct Container *light);
extern float __cdecl Container_Light_GetLinearAttenuation(struct Container *light);
extern float __cdecl Container_Light_GetQuadraticAttenuation(struct Container *light);
extern void __cdecl Container_Light_SetConstantAttenuation(struct Container *light,float att);
extern void __cdecl Container_Light_SetLinearAttenuation(struct Container *light,float att);
extern void __cdecl Container_Light_SetQuadraticAttenuation(struct Container *light,float att);
extern void __cdecl Container_Light_SetEnableContainer(struct Container *light,struct Container *enable);
extern struct Container *__cdecl Container_MakeLight(struct Container *parent,unsigned long type,float r,float g,float b);
extern struct Container *__cdecl Container_MakeMesh2(struct Container *parent,unsigned long type);
extern void *Container_GetMasterFrame(lpContainer cont);
extern struct Container *__cdecl Container_Clone(struct Container *orig);
extern void __cdecl Container_Hide2(struct Container *cont,int hide);
extern void __cdecl Container_Hide(struct Container *cont,int hide);
extern int __cdecl Container_IsHidden(struct Container *cont);
extern struct Container *__cdecl Container_SearchTree(struct Container *root,unsigned char *name,int mode,unsigned long *count);
extern unsigned char *__cdecl Container_FormatPartName(struct Container *cont,unsigned char *partname,unsigned long *instance);
extern void __cdecl Container_SetActivityChangeCallback(struct Container *cont,void (__cdecl *callback)(struct Container *,void *),void *data);
extern void __cdecl Container_SetUserData(struct Container *cont,void *data);
extern void *__cdecl Container_GetUserData(struct Container *cont);
extern void __cdecl Container_EnableFog(int on);
extern void __cdecl Container_SetFogColour(float r,float g,float b);
extern void __cdecl Container_GetFogColour(float *r,float *g,float *b);
extern void __cdecl Container_SetFogMode(unsigned long mode);
extern void __cdecl Container_SetFogParams(float start,float end,float density);
extern void __cdecl Container_SetPerspectiveCorrection(struct Container *cont,int on);
static int __cdecl Container_SetPerspectiveCorrectionCallback(struct IDirect3DRMFrame3 *frame,void *data);
static int __cdecl Container_GetDecalColour(unsigned char *fname,unsigned long *colour);
extern struct IDirectDrawSurface4 *__cdecl Container_LoadTextureSurface(unsigned char *fname,int managed,unsigned long *width,unsigned long *height,int *trans);
extern struct Container_Texture *__cdecl Container_LoadTexture2(unsigned char *fname,int immediate,unsigned long *width,unsigned long *height);
extern void __cdecl Container_FreeTexture(struct Container_Texture *text);
extern void __cdecl Container_Texture_SetDecalTransparency(struct Container_Texture *text,int on);
extern void __cdecl Container_Mesh_HighZBias(struct Container *cont,unsigned long groupID,int on);
extern void __cdecl Container_Mesh_Swap(struct Container *target,struct Container *origin,int restore);
extern unsigned long __cdecl Container_Mesh_AddGroup(struct Container *cont,unsigned long vertexCount,unsigned long faceCount,unsigned long vPerFace,unsigned long *faceData);
extern unsigned long __cdecl Container_Mesh_GetGroupCount(struct Container *cont);
extern void __cdecl Container_Mesh_SetQuality(struct Container *cont,unsigned long groupID,unsigned long quality);
extern int __cdecl Container_Mesh_IsGroupHidden(struct Container *cont,unsigned long group);
extern void __cdecl Container_Mesh_HideGroup(struct Container *cont,unsigned long group,int hide);
static int __cdecl Container_Mesh_HandleSeperateMeshGroups(struct IDirect3DRMMesh **mesh ,unsigned long *group);
extern int __cdecl Container_Mesh_GetGroup(struct Container *cont,unsigned long groupID,unsigned long *vertexCount,unsigned long *faceCount,unsigned long *vPerFace,unsigned long *faceDataSize,unsigned long *faceData);
extern unsigned long __cdecl Container_Mesh_GetVertices(struct Container *cont,unsigned long groupID,unsigned long index,unsigned long count,struct VERTEX3D *retArray);
extern unsigned long __cdecl Container_Mesh_SetVertices(struct Container *cont,unsigned long groupID,unsigned long index,unsigned long count,struct VERTEX3D *values);
extern void __cdecl Container_Mesh_SetTexture(struct Container *cont,unsigned long groupID,struct Container_Texture *itext);
extern struct Container_Texture *__cdecl Container_Mesh_GetTexture(struct Container *cont,unsigned long groupID);
extern void __cdecl Container_Mesh_SetPerspectiveCorrection(struct Container *cont,unsigned long groupID,int on);
extern void __cdecl Container_Mesh_SetMaterial(struct Container *cont,unsigned long groupID,struct Material_Dummy *material);
extern int __cdecl Container_Mesh_Scale(struct Container *cont,float x,float y,float z);
extern int __cdecl Container_Mesh_GetBox(struct Container *cont,struct BOX3D *box);
extern void __cdecl Container_Mesh_SetEmissive(struct Container *cont,unsigned long groupID,float r,float g,float b);
extern void __cdecl Container_Mesh_SetColourAlpha(struct Container *cont,unsigned long groupID,float r,float g,float b,float a);
extern void __cdecl Container_Mesh_GetColourAlpha(struct Container *cont,unsigned long groupID,float *r,float *g,float *b,float *a);
extern void __cdecl Container_Transform(struct Container *cont,struct VECTOR3D *dest,struct VECTOR3D *src);
extern void __cdecl Container_InverseTransform(struct Container *cont,struct VECTOR3D *dest,struct VECTOR3D *src);
extern void __cdecl Container_SetColourAlpha(struct Container *cont,float r,float g,float b,float a);
extern void __cdecl Container_GetColourAlpha(struct Container *cont,float *r,float *g,float *b,float *a);
extern void __cdecl Container_SetEmissive(struct Container *cont,float r,float g,float b);
extern void __cdecl Container_SetTexture(struct Container *cont,struct Container_Texture *itext);
extern struct Container_Texture *__cdecl Container_GetTexture(struct Container *cont);
extern float __cdecl Container_MoveAnimation(struct Container *cont,float delta);
extern float __cdecl Container_SetAnimationTime(struct Container *cont,float time);
extern void __cdecl Container_ForceAnimationUpdate(struct Container *cont);
extern float __cdecl Container_GetAnimationTime(struct Container *cont);
extern unsigned long __cdecl Container_GetAnimationFrames(struct Container *cont);
extern void __cdecl Container_Move(struct Container *root,float delta);
//extern void __cdecl Container_SetRotation(struct Container *cont,struct Container *ref,float x,float y,float z,float angle);
extern void __cdecl Container_SetRotation(struct Container *cont,int combine,float x,float y,float z,float angle);
extern void __cdecl Container_SetPosition(struct Container *cont,struct Container *ref,float x,float y,float z);
extern void __cdecl Container_LookAt(struct Container *cont,struct Container *target,struct Container *ref,unsigned long constraint);
extern void __cdecl Container_SetOrientation(struct Container *cont,struct Container *ref,float dirx,float diry,float dirz,float upx,float upy,float upz);
extern void __cdecl Container_GetRotation(struct Container *cont,struct Container *ref,struct VECTOR3D *axis,float *angle);
extern void __cdecl Container_GetPosition(struct Container *cont,struct Container *ref,struct VECTOR3D *pos);
extern void __cdecl Container_GetOrientation(struct Container *cont,struct Container *ref,struct VECTOR3D *dir,struct VECTOR3D *up);
extern void __cdecl Container_AddRotation(struct Container *cont,unsigned long combine,float x,float y,float z,float angle);
extern void __cdecl Container_AddScale(struct Container *cont,unsigned long combine,float x,float y,float z);
extern void __cdecl Container_AddTranslation(struct Container *cont,unsigned long combine,float x,float y,float z);
extern void __cdecl Container_ClearTransform(struct Container *cont);
extern void __cdecl Container_AddTransform(struct Container *cont,unsigned long combine,float (*mat)[4]);
extern void __cdecl Container_GetTransform(struct Container *cont,float (*mat)[4]);
extern float __cdecl Container_GetZXRatio(struct Container *cont);
extern void __cdecl Container_CopyTransform(struct Container *cont,struct Container *ref);
extern void __cdecl Container_SetParent(struct Container *child,struct Container *parent);
extern struct Container *__cdecl Container_GetParent(struct Container *child);
extern float __cdecl Container_GetTransCoef(struct Container *cont);
static void __cdecl Container_YFlipTexture(struct IDirect3DRMTexture3 *texture);
extern struct Container *__cdecl Container_SearchOwner(struct IDirect3DRMFrame3 *frame);
static unsigned long __cdecl Container_GetCloneNumber(struct Container *cont);
static struct Container *__cdecl Container_Frame_GetContainer(struct IDirect3DRMFrame3 *frame);
static void __cdecl Container_GetFrames(struct Container *cont,struct Container *ref,struct IDirect3DRMFrame3 **contFrame ,struct IDirect3DRMFrame3 **refFrame );
static void __cdecl Container_GetFramesHidden(struct Container *cont,struct Container *ref,struct IDirect3DRMFrame3 **contFrame ,struct IDirect3DRMFrame3 **refFrame );
static int __cdecl Container_ParseTypeString(unsigned char *str,int *noTexture);
static void __cdecl Container_AddList(void );
static unsigned long __cdecl Container_GetActivities(struct Container *cont,struct IDirect3DRMFrame3 **frameList ,struct AnimClone **acList ,unsigned char **nameList );
static void __cdecl Container_SetTypeData(struct Container *cont,unsigned char *name,struct IDirect3DRMLight *light,struct IDirect3DRMMesh *mesh,struct Mesh *transMesh);
static void __cdecl Container_FreeTypeData(struct Container *cont);
static int __cdecl Container_AddActivity2(struct Container *cont,unsigned char *filename,unsigned char *actname,float transCo,unsigned long trigger,unsigned char *sample,struct AnimClone *origClone,int lws,int looping);
static void __cdecl Container_Frame_ReferenceDestroyCallback(struct IDirect3DRMObject *lpD3DRMobj,void *lpArg);
static struct IDirect3DRMFrame3 *__cdecl Container_Frame_Find(struct Container *cont,unsigned char *findName,unsigned long hidden);
static void __cdecl Container_Frame_RemoveAppData(struct IDirect3DRMFrame3 *frame);
static struct Container *__cdecl Container_Frame_GetOwner(struct IDirect3DRMFrame3 *frame);
static unsigned char *__cdecl Container_Frame_GetAnimSetFileName(struct IDirect3DRMFrame3 *frame);
static struct AnimClone *__cdecl Container_Frame_GetAnimClone(struct IDirect3DRMFrame3 *frame);
static unsigned long __cdecl Container_Frame_GetFrameCount(struct IDirect3DRMFrame3 *frame);
static unsigned char *__cdecl Container_Frame_GetName(struct IDirect3DRMFrame3 *frame);
static float __cdecl Container_Frame_GetCurrTime(struct IDirect3DRMFrame3 *frame);
static float __cdecl Container_Frame_GetTransCo(struct IDirect3DRMFrame3 *frame);
static unsigned char *__cdecl Container_Frame_GetSample(struct IDirect3DRMFrame3 *frame);
static unsigned long __cdecl Container_Frame_GetTrigger(struct IDirect3DRMFrame3 *frame);
static void __cdecl Container_Frame_SafeAddChild(struct IDirect3DRMFrame3 *parent,struct IDirect3DRMFrame3 *child);
static void __cdecl Container_Frame_FormatName(struct IDirect3DRMFrame3 *frame,unsigned char *msg,...);
static void __cdecl Container_Frame_FreeName(struct IDirect3DRMFrame3 *frame);
static int __cdecl Container_Frame_WalkTree(struct IDirect3DRMFrame3 *frame,unsigned long level,int (__cdecl *Callback)(struct IDirect3DRMFrame3 *,void *),void *data);
static int __cdecl Container_Frame_SearchCallback(struct IDirect3DRMFrame3 *frame,void *data);
static struct AnimClone *__cdecl Container_LoadAnimSet(unsigned char *fname,struct IDirect3DRMFrame3 *frame,unsigned long *frameCount,int lws,int looping);
static unsigned long __cdecl Container_GetAnimFileFrameCount(unsigned char *fileData);
static int __cdecl Container_FrameLoad(unsigned char *fname,struct IDirect3DRMFrame3 *frame);
static struct IDirect3DRMMesh *__cdecl Container_MeshLoad(void *file_data,unsigned long file_size,unsigned char *file_name,struct IDirect3DRMFrame3 *frame,int noTexture);
static long __cdecl Container_TextureLoadCallback(char *name,void *data,struct IDirect3DRMTexture3 **texture );
static int __cdecl Container_TextureSetSort(const void *a,const void *b);
static void __cdecl Container_TextureDestroyCallback(struct IDirect3DRMObject *lpD3DRMobj,void *lpArg);
extern void __cdecl Container_Debug_DumpActivityNames(struct Container *cont);
extern void __cdecl Container_Debug_DumpFrameHierarchy(struct IDirect3DRMFrame3 *frame,unsigned long level,int *end,struct File_Dummy *file);
extern void __cdecl Container_Debug_CheckMesh(struct Container *cont,unsigned long group);
extern void __cdecl Container_Debug_Check(unsigned char *file,unsigned long line);
extern struct Container *__cdecl Container_Debug_MakeCamera(struct Container *parent);
extern void __cdecl Container_Debug_SetViewportBlueBackground(struct Viewport *view);
extern struct Mesh *__cdecl Container_GetMesh(struct Container *cont);
//VOID Container_Frame_SetAppData(LPDIRECT3DRMFRAME3 frame, lpContainer owner, lpAnimClone animClone, LPUCHAR asfname, LPULONG frameCount, LPUCHAR frameName, LPREAL currTime, LPREAL transCo, LPUCHAR actSample, lpSound3D_SoundFrameRecord soundRecord, LPULONG trigger);
VOID Container_Frame_SetAppData(LPDIRECT3DRMFRAME3 frame, lpContainer owner, lpAnimClone animClone, LPUCHAR asfname, LPULONG frameCount, LPUCHAR frameName, LPREAL currTime, LPREAL transCo, LPUCHAR actSample, LPVOID soundRecord, LPULONG trigger);
VOID Container_SetBackgroundColour(REAL r, REAL g, REAL b);
void Container_SetCallbackForPartName(lpContainer cont, int instance, LPUCHAR name, LPVOID renderCallback, LPVOID data);
struct Mesh * Container_GetMesh2( LPDIRECT3DRMFRAME3 frame);
